{"ast":null,"code":"var _jsxFileName = \"/Users/gavinlynch04/Desktop/csc307_receipt_app/packages/frontend/src/Table.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport \"./CSS Files/Table.css\";\nimport PopUp from \"./PopUp\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Table = props => {\n  _s();\n  console.log('jsonData:', props.jsonData);\n  console.log('buttonLabels:', props.buttonLabels);\n  const {\n    buttonLabels\n  } = props;\n  const initialStates = props.jsonData.map(() => props.buttonLabels.map(() => ({\n    clicked: false\n  })));\n  console.log(\"Init\" + initialStates);\n  const [buttonStates, setButtonStates] = useState(initialStates);\n  const handleButtonClick = (row, col) => {\n    const newButtonStates = [...buttonStates];\n    newButtonStates[row][col].clicked = !newButtonStates[row][col].clicked;\n    setButtonStates(newButtonStates);\n  };\n  const splitCost = () => {\n    let costs = buttonLabels.map(() => 0);\n    for (let i = 0; i < buttonStates.length; i++) {\n      let numUsers = 0;\n      for (let j = 0; j < buttonStates[i].length; j++) {\n        if (buttonStates[i][j].clicked) numUsers++;\n      }\n      console.log(\"numUsers: \", numUsers);\n      if (numUsers > 0) {\n        let cost = props.jsonData[i].total / numUsers;\n        console.log(props.jsonData[i].total);\n        for (let user = 0; user < buttonLabels.length; user++) {\n          if (buttonStates[i][user].clicked) costs[user] += cost;\n        }\n      }\n    }\n    let retStr = [];\n    for (let i = 0; i < buttonLabels.length; i++) {\n      retStr.push(buttonLabels[i] + ': ' + '$' + Number(costs[i].toFixed(2)));\n    }\n    return retStr;\n  };\n  const rows = props.jsonData.map((row, rowIndex) => {\n    return /*#__PURE__*/_jsxDEV(\"tr\", {\n      className: \"contentRows\",\n      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n        className: \"col1\",\n        children: row.description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        className: \"col2\",\n        children: row.quantity\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        className: \"col3\",\n        children: row.total\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        className: \"col4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: \"inline-table\"\n          },\n          children: buttonLabels.map((label, i) => /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"tableButton\",\n            style: {\n              backgroundColor: buttonStates[rowIndex][i].clicked ? \"#2980b9\" : 'lightblue',\n              transform: buttonStates[rowIndex][i].clicked ? \"scale(0.95)\" : \"scale(1)\"\n            },\n            onClick: () => handleButtonClick(rowIndex, i),\n            children: label\n          }, i, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 33\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 21\n      }, this)]\n    }, rowIndex, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 17\n    }, this);\n  });\n  return /*#__PURE__*/_jsxDEV(\"table\", {\n    children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n      className: \"header\",\n      children: /*#__PURE__*/_jsxDEV(\"tr\", {\n        className: \"headerRow\",\n        children: [/*#__PURE__*/_jsxDEV(\"th\", {\n          className: \"header1\",\n          children: \"Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n          className: \"header2\",\n          children: \"Quantity\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n          className: \"header3\",\n          children: \"Price\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n          className: \"header4\",\n          children: \"Users\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n      children: rows\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(PopUp, {\n      popupData: splitCost()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 79,\n    columnNumber: 13\n  }, this);\n};\n_s(Table, \"z1PB0NnLixsu9Ih1Xbsv9EfcKQg=\");\n_c = Table;\nexport default Table;\nvar _c;\n$RefreshReg$(_c, \"Table\");","map":{"version":3,"names":["React","useState","PopUp","jsxDEV","_jsxDEV","Table","props","_s","console","log","jsonData","buttonLabels","initialStates","map","clicked","buttonStates","setButtonStates","handleButtonClick","row","col","newButtonStates","splitCost","costs","i","length","numUsers","j","cost","total","user","retStr","push","Number","toFixed","rows","rowIndex","className","children","description","fileName","_jsxFileName","lineNumber","columnNumber","quantity","style","display","label","backgroundColor","transform","onClick","popupData","_c","$RefreshReg$"],"sources":["/Users/gavinlynch04/Desktop/csc307_receipt_app/packages/frontend/src/Table.js"],"sourcesContent":["import React, {useState} from \"react\";\nimport \"./CSS Files/Table.css\"\nimport PopUp from \"./PopUp\";\n\nconst Table = (props) => {\n\n    console.log('jsonData:', props.jsonData);\n    console.log('buttonLabels:', props.buttonLabels);\n\n    const { buttonLabels } = props;\n\n\n    const initialStates = props.jsonData.map(() =>\n        props.buttonLabels.map(() => ({ clicked: false }))\n    );\n    console.log(\"Init\" + initialStates);\n\n    const [buttonStates, setButtonStates] = useState(initialStates);\n\n    const handleButtonClick = (row, col) => {\n        const newButtonStates = [...buttonStates];\n        newButtonStates[row][col].clicked = !newButtonStates[row][col].clicked;\n        setButtonStates(newButtonStates);\n    };\n\n    const splitCost = () => {\n        let costs = buttonLabels.map(() => 0);\n        for(let i = 0; i < buttonStates.length; i++){\n            let numUsers = 0;\n            for(let j = 0; j < buttonStates[i].length; j++){\n                if(buttonStates[i][j].clicked) numUsers++;\n            }\n\n            console.log(\"numUsers: \", numUsers);\n            if(numUsers > 0) {\n                let cost = props.jsonData[i].total / numUsers;\n                console.log(props.jsonData[i].total);\n                for (let user = 0; user < buttonLabels.length; user++) {\n                    if (buttonStates[i][user].clicked) costs[user] += cost;\n                }\n            }\n        }\n        let retStr = [];\n        for(let i = 0; i < buttonLabels.length; i++){\n            retStr.push(buttonLabels[i] + ': ' + '$' + Number(costs[i].toFixed(2)));\n        }\n        return retStr;\n    }\n\n    const rows = props.jsonData.map((row, rowIndex) => {\n            return (\n                <tr key={rowIndex} className={\"contentRows\"}>\n                    <td className={\"col1\"}>{row.description}</td>\n                    <td className={\"col2\"}>{row.quantity}</td>\n                    <td className={\"col3\"}>{row.total}</td>\n                    <td className={\"col4\"}>\n                        <div style={ {display: \"inline-table\"} }>\n                            {buttonLabels.map((label, i) => (\n                                <button\n                                    key={i}\n                                    className={\"tableButton\"}\n                                    style={{\n                                        backgroundColor: buttonStates[rowIndex][i].clicked ? \"#2980b9\" : 'lightblue',\n                                        transform: buttonStates[rowIndex][i].clicked ? \"scale(0.95)\" : \"scale(1)\",\n                                    }}\n                                    onClick={() => handleButtonClick(rowIndex, i)}\n                                >\n                                    {label}\n                                </button>\n                            ))}\n                        </div>\n                    </td>\n                </tr>\n            );\n        }\n    );\n\n    return (\n            <table>\n                <thead className={\"header\"}>\n                <tr className={\"headerRow\"}>\n                    <th className={\"header1\"}>Name</th>\n                    <th className={\"header2\"}>Quantity</th>\n                    <th className={\"header3\"}>Price</th>\n                    <th className={\"header4\"}>Users</th>\n                </tr>\n                </thead>\n                <tbody>\n                {rows}\n                </tbody>\n                <PopUp popupData = {splitCost()}/>\n            </table>\n    );\n}\n\nexport default Table;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}